<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-key="title">Skyline - Empreendimento Premium em Odivelas</title>
  <meta property="og:title" content="Skyline - Empreendimento Premium em Odivelas">
  <meta property="og:description" content="Descubra o Skyline, um empreendimento exclusivo localizado em Granjas Novas, Odivelas, que promete redefinir o conceito de habitação moderna e sustentável.">
  <meta property="og:image" content="https://ik.imagekit.io/ij9blp5q7/Foto%20Skyline.jpg?updatedAt=1755195590866">
  <meta property="og:url" content="https://sufreire.github.io/Skyline/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Skyline - Empreendimento Premium em Odivelas">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .font-playfair { font-family: 'Playfair Display', serif; }
    .hero-gradient { background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%); }
    .whatsapp-btn { background: #25D366; transition: all 0.3s ease; }
    .whatsapp-btn:hover { background: #128C7E; transform: translateY(-2px); }
    .gold-text { color: #D4AF37; }
    .bg-dark-900 { background-color: #0F0F0F; }
    .border-gold { border-color: #D4AF37; }
    .language-btn.active {
      background-color: #D4AF37;
      color: #000;
      font-weight: 600;
    }
  </style>
</head>

<body class="bg-gray-50">

<!-- Botões de idioma -->
<div class="fixed top-4 right-4 z-50 flex gap-2">
  <button id="languagePT" class="bg-black/80 hover:bg-black text-white px-4 py-2 rounded-full text-sm md:text-base font-medium border border-gold backdrop-blur-sm transition-all shadow-lg language-btn active" data-lang="pt">
    PT
  </button>
  <button id="languageEN" class="bg-black/80 hover:bg-black text-white px-4 py-2 rounded-full text-sm md:text-base font-medium border border-gold backdrop-blur-sm transition-all shadow-lg language-btn" data-lang="en">
    EN
  </button>
</div>

<!-- Hero -->
<section class="relative">
  <img src="https://ik.imagekit.io/ij9blp5q7/Foto%20Skyline.jpg?updatedAt=1755195590866" alt="Skyline Empreendimento" class="w-full h-auto">
  <div class="absolute inset-0 flex items-center justify-center" style="background: linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.2) 100%);">
    <div class="text-center text-white px-6 py-12">
      <h1 class="text-5xl md:text-7xl font-bold mb-2 font-playfair" data-key="title_hero">SKYLINE</h1>
      <p class="text-xl md:text-2xl font-light mb-4" data-key="hero_subtitle">Empreendimento Exclusivo em Odivelas</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://www.remax.pt/pt/imoveis/venda-apartamento-t3-lisboa-odivelas/122481502-18/6wkMj2W82QuU59UqeqSlM-F-UNjOWvCH" target="_blank" class="bg-black hover:bg-gray-900 text-white px-8 py-3 rounded-lg font-semibold transition-all hover:shadow-lg flex-1 text-center border border-gold" data-key="view_apartment">
          Ver Apartamento
        </a>
        <a href="https://api.whatsapp.com/send?phone=351962323123" target="_blank" class="whatsapp-btn text-white px-8 py-3 rounded-lg font-semibold flex-1 flex items-center justify-center gap-2 hover:shadow-lg" data-key="whatsapp_btn">
          WhatsApp
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Galeria -->
<section class="py-20 bg-gray-50">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-4xl font-bold text-gray-800 mb-12 text-center font-playfair" data-key="photo_gallery">Galeria</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%2010.jpg?updatedAt=1755608902785" 
          alt="Apartamento Skyline" 
          data-key-alt="apartment_skyline"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%207.jpg?updatedAt=1755608902430" 
          alt="Sala Skyline" 
          data-key-alt="living_room_skyline"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%2011.jpg?updatedAt=1755608902698" 
          alt="Varanda Skyline" 
          data-key-alt="balcony_skyline"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%208.jpg?updatedAt=1755608902462" 
          alt="Varanda Skyline" 
          data-key-alt="balcony_skyline_2"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%209.jpg?updatedAt=1755608901850" 
          alt="Varanda Skyline" 
          data-key-alt="balcony_skyline_3"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

      <div class="overflow-hidden rounded-lg cursor-pointer group">
        <img 
          src="https://ik.imagekit.io/ij9blp5q7/Foto%205.jpg?updatedAt=1755608902734" 
          alt="Varanda Skyline" 
          data-key-alt="balcony_skyline_4"
          class="w-full h-64 object-cover transform group-hover:scale-105 transition duration-300"
          onclick="openLightbox(this.src, this.alt)">
      </div>

    </div>
  </div>
</section>

<!-- Lightbox -->
<div id="lightbox" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300 z-50">
  <div class="relative max-w-4xl w-full px-4">
    <button onclick="closeLightbox()" class="absolute top-2 right-2 text-white text-3xl font-bold">&times;</button>
    <img id="lightbox-img" src="" alt="" class="w-full rounded-lg shadow-xl transform scale-95 transition-transform duration-300">
    <p id="lightbox-caption" class="text-white text-center mt-4"></p>
  </div>
</div>

<script>
  const lightbox = document.getElementById('lightbox');
  const img = document.getElementById('lightbox-img');
  const caption = document.getElementById('lightbox-caption');

  function openLightbox(src, alt) {
    img.src = src;
    caption.textContent = alt;
    lightbox.classList.remove('pointer-events-none');
    lightbox.classList.remove('opacity-0');
    setTimeout(() => { img.classList.remove('scale-95'); }, 50);
  }

  function closeLightbox() {
    img.classList.add('scale-95');
    lightbox.classList.add('opacity-0');
    setTimeout(() => {
      lightbox.classList.add('pointer-events-none');
      img.src = '';
    }, 300);
  }

  lightbox.addEventListener('click', function(e) {
    if(e.target === lightbox) closeLightbox();
  });
</script>

<!-- Descrição -->
<section class="py-12 bg-gray-50 text-gray-800 max-w-6xl mx-auto px-6">
  <h2 class="text-3xl md:text-4xl font-bold mb-6 text-center font-playfair" data-key="description_title">Onde o Design Moderno Encontra o Conforto.</h2>
  <p class="text-lg mb-4" data-key="description_p1">
    Descubra o SKYLINE, um empreendimento exclusivo localizado em Granjas Novas, Odivelas, que promete redefinir o conceito de habitação moderna e sustentável. 
  </p>
  <p class="text-lg mb-4" data-key="description_p2">
    Todos os apartamentos são T3 e foram projetados com um design moderno e elegante, onde a atenção ao detalhe e os acabamentos de alta qualidade garantem uma experiência única de habitação. 
    Com áreas totais por fração que variam entre 225m² e 350m², cada unidade dispõe de:
  </p>
  <ul class="list-disc list-inside space-y-2 text-lg">
    <li data-key="list_item_1">✔️ Duas suítes, mais um quarto com WC de apoio, proporcionando máximo conforto e privacidade;</li>
    <li data-key="list_item_2">✔️ Sala em open space com a cozinha, criando um ambiente amplo, funcional e convidativo;</li>
    <li data-key="list_item_3">✔️ Cozinha totalmente equipada, combinando eficiência e sofisticação;</li>
    <li data-key="list_item_4">✔️ Varandas e amplos terraços em todas as frações, proporcionando espaços exteriores ideais para lazer e convívio ao ar livre;</li>
    <li data-key="list_item_5">✔️ 1 box com 2 lugares de estacionamento, garantindo segurança e comodidade para estacionamento;</li>
    <li data-key="list_item_6">✔️ Lavandaria para maior funcionalidade no dia a dia;</li>
  </ul>
</section>

<!-- Vídeo -->
<section class="py-20 bg-gray-50">
  <div class="max-w-4xl mx-auto px-6">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4 font-playfair" data-key="about_project_title">Conheça o Projeto</h2>
      <p class="text-lg text-gray-600" data-key="about_project_subtitle">Uma experiência única em Odivelas</p>
    </div>
    <div class="relative aspect-video rounded-lg overflow-hidden shadow-2xl border-2 border-gold">
      <iframe 
        src="https://www.youtube.com/embed/dZeuVTd4olQ" 
        class="w-full h-full" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>
  </div>
</section>

<!-- Unidades + Tabela -->
<section class="py-20 bg-white">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h2 class="text-4xl font-bold text-gray-800 mb-4 font-playfair" data-key="available_units_title">
      Unidades Disponíveis
    </h2>
    <p class="text-lg text-gray-600 mb-8" data-key="available_units_subtitle">
      Descubra as opções exclusivas do Skyline
    </p>

    <div class="bg-white rounded-xl shadow-lg overflow-hidden text-left">
      <div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4">
        <h3 class="text-xl font-bold text-white">SKYLINE</h3>
        <p class="text-blue-100 mt-1">
      </div>

      <div class="overflow-x-auto">
        <table class="w-full">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Fração</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Tipo</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Tipologia</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Piso</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Área Bruta</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Área Interior</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Estacionamento</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Eficiência</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Preço</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Status</th>
            </tr>
          </thead>
          <tbody id="apartmentTable" class="bg-white divide-y divide-gray-200">
            <!-- preenchido por JS -->
          </tbody>
        </table>
      </div>

      <div class="bg-gray-50 px-6 py-4 border-t">
        <div class="flex flex-wrap gap-4 text-sm">
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
            <span class="text-gray-600">Disponível</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
            <span class="text-gray-600">Reservado</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
            <span class="text-gray-600">Vendido</span>
          </div>
          <div class="ml-auto">
            <button id="logoutBtn" class="hidden bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-md text-sm">
              Terminar sessão
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Conclusão -->
<section class="py-20 px-4">
  <div class="max-w-4xl mx-auto text-center">
    <p id="constructionInfo"
       class="mt-8 text-lg md:text-xl text-gray-700 leading-relaxed max-w-3xl mx-auto font-bold"
       data-pt="🔑 Conclusão prevista: segundo semestre de 2026"
       data-en="🔑 Expected completion: second half of 2026.">
    </p>
  </div>
</section>

<!-- Modal de Login (só aparece ao clicar no status) -->
<div id="loginModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden items-center justify-center z-50">
  <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6">
    <div class="flex items-start justify-between mb-4">
      <div>
        <h3 class="text-xl font-bold text-gray-900">Acesso restrito</h3>
        <p class="text-gray-600 text-sm">Insira a senha para alterar o status.</p>
      </div>
      <button onclick="closeLoginModal()" class="text-gray-500 hover:text-gray-700 text-2xl leading-none">&times;</button>
    </div>

    <form id="loginForm" class="space-y-4">
      <div>
        <label for="passwordField" class="block text-sm font-medium text-gray-700 mb-1">Senha</label>
        <input id="passwordField" type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Digite a senha" required>
      </div>
      <p id="loginError" class="hidden text-sm text-red-600">Senha incorreta. Tenta novamente.</p>
      <div class="flex items-center justify-end gap-2 pt-2">
        <button type="button" onclick="closeLoginModal()" class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">Cancelar</button>
        <button type="submit" class="px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700">Entrar</button>
      </div>
    </form>
  </div>
</div>

<!-- Contacto -->
<section class="py-20 bg-dark-900 text-white">
  <div class="max-w-4xl mx-auto px-6">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold mb-4 font-playfair" data-key="interested_title">Interessado?</h2>
      <p class="text-xl text-gray-300" data-key="interested_subtitle">Agende uma visita ou solicite informações</p>
    </div>
    
    <div class="grid md:grid-cols-2 gap-12">
      <div class="bg-gray-800 p-8 rounded-lg border border-gold/20">
        <h3 class="text-2xl font-semibold mb-6 font-playfair" data-key="contact_form_title">Formulário de Contato</h3>
        <form id="leadForm" class="space-y-6">
          <div>
            <label class="block text-sm font-medium mb-2" data-key="name_label">Nome:</label>
            <input type="text" name="nome" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-gold focus:ring-1 focus:ring-gold">
          </div>
          <div>
            <label class="block text-sm font-medium mb-2" data-key="phone_label">Telefone:</label>
            <input type="tel" name="telefone" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-gold focus:ring-1 focus:ring-gold">
          </div>
          <div>
            <label class="block text-sm font-medium mb-2" data-key="email_label">Email:</label>
            <input type="email" name="email" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-gold focus:ring-1 focus:ring-gold">
          </div>
          <button type="submit" id="submitBtn" class="w-full bg-black hover:bg-gray-900 text-white py-3 px-6 rounded-lg font-semibold border border-gold transition-all hover:shadow-gold" data-key="send_message_btn">
            Enviar Mensagem
          </button>
          <p id="formMessage" class="hidden mt-2"></p>
        </form>
      </div>

      <div class="space-y-8">
        <div class="text-center">
          <h3 class="text-2xl font-semibold mb-6 font-playfair" data-key="other_contact_title">Outras Formas de Contato</h3>
        </div>
        
        <a href="https://api.whatsapp.com/send?phone=351962323123" target="_blank" class="block whatsapp-btn text-white p-6 rounded-lg font-semibold text-center border border-green-600 hover:shadow-lg transition-all">
          <span class="text-xl" data-key="whatsapp_link">WhatsApp</span>
          <p class="text-green-100">+351 962 323 123</p>
        </a>

        <a href="https://www.remax.pt/pt/imoveis/venda-apartamento-t3-lisboa-odivelas/122481502-18/6wkMj2W82QuU59UqeqSlM-F-UNjOWvCH" target="_blank" class="block bg-black hover:bg-gray-900 text-white p-6 rounded-lg font-semibold text-center border border-gold hover:shadow-gold transition-all">
          <span class="text-xl" data-key="view_apartment_link">Ver Apartamento</span>
          <p class="text-gray-300" data-key="skyline_odivelas">Skyline Odivelas</p>
        </a>

        <div class="space-y-8 flex flex-col justify-center">
          <a href="tel:+351962323123" class="block text-white bg-black px-6 py-3 rounded-lg font-semibold text-center border border-gold hover:bg-gray-900 transition-all hover:shadow-lg">
            📞 +351 962 323 123
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-black text-white py-12 border-t border-gold/20">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h3 class="text-3xl font-bold mb-4 font-playfair" data-key="footer_title">SKYLINE</h3>
    <p class="text-gray-400 mb-4" data-key="copyright">© 2025 REMAX + GRUPO VANTAGEM</p>
    <p class="text-gray-500" data-key="footer_slogan">O seu futuro mora aqui</p>
  </div>
</footer>

<!-- SCRIPT: Tabela + Login Modal -->
<script>
  // ====== PASSWORD (muda aqui se quiseres) ======
  const PASSWORD = "Antonio_Rodrigues";

  // ====== Dados ======
  const INITIAL_DATA = [
    { id: "122481502-18", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "225 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "550 480 €", status: "Disponível" },
    { id: "122481502-19", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "225 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "550 480 €", status: "Disponível" },
    { id: "122481502-26", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "225 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "550 480 €", status: "Disponível" },
    { id: "122481502-27", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "225 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "550 480 €", status: "Disponível" },
    { id: "122481502-23", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "242 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "573 360 €", status: "Disponível" },
    { id: "122481502-16", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "330 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "678 270 €", status: "Disponível" },
    { id: "122481502-24", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "350 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "678 270 €", status: "Disponível" },
    { id: "122481502-25", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "327 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "678 270 €", status: "Disponível" },
    { id: "122481502-17", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "327 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "678 270 €", status: "Disponível" },
    { id: "122481502-28", tipo: "Apartamento", tipologia: "T3", piso: "", areaBruta: "238 m²", areaInterior: "123 m²", estacionamento: "2", eficiencia: "NC", preco: "568 080 €", status: "Vendido" }
  ];

  const statusOptions = ["Disponível", "Reservado", "Vendido"];

  // ====== Estado: auth e dados persistentes ======
  let isAuthed = sessionStorage.getItem('skylineAuth') === '1';
  let apartmentData = (() => {
    const saved = localStorage.getItem('apartmentData');
    try { return saved ? JSON.parse(saved) : [...INITIAL_DATA]; }
    catch { return [...INITIAL_DATA]; }
  })();

  const tableBody = document.getElementById('apartmentTable');
  const logoutBtn = document.getElementById('logoutBtn');

  function saveData() {
    localStorage.setItem('apartmentData', JSON.stringify(apartmentData));
  }

  function getStatusColor(status) {
    switch(status) {
      case "Disponível": return "bg-green-100 text-green-800 border-green-200";
      case "Reservado": return "bg-yellow-100 text-yellow-800 border-yellow-200";
      case "Vendido": return "bg-red-100 text-red-800 border-red-200";
      default: return "bg-gray-100 text-gray-800 border-gray-200";
    }
  }

  function renderTable() {
    tableBody.innerHTML = '';
    apartmentData.forEach(apartment => {
      const row = document.createElement('tr');
      row.className = 'hover:bg-gray-50 transition-colors duration-200';
      row.innerHTML = `
        <td class="px-4 py-4 text-sm font-medium text-gray-900">${apartment.id}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.tipo}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.tipologia}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.piso}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.areaBruta}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.areaInterior}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.estacionamento}</td>
        <td class="px-4 py-4 text-sm text-gray-700">${apartment.eficiencia}</td>
        <td class="px-4 py-4 text-sm font-semibold text-gray-900">${apartment.preco}</td>
        <td class="px-4 py-4">
          <button 
            onclick="handleStatusClick('${apartment.id}')"
            class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border cursor-pointer hover:shadow-md transition-all duration-200 ${getStatusColor(apartment.status)}"
          >
            ${apartment.status}
          </button>
        </td>
      `;
      tableBody.appendChild(row);
    });

    // mostrar/esconder botão logout
    logoutBtn.classList.toggle('hidden', !isAuthed);
  }

  function cycleStatus(apartmentId) {
    const apt = apartmentData.find(a => a.id === apartmentId);
    if (!apt) return;
    const idx = statusOptions.indexOf(apt.status);
    const next = (idx + 1) % statusOptions.length;
    apt.status = statusOptions[next];
    saveData();
    renderTable();
  }

  // ====== Login Modal ======
  const loginModal = document.getElementById('loginModal');
  const loginForm  = document.getElementById('loginForm');
  const passwordField = document.getElementById('passwordField');
  const loginError = document.getElementById('loginError');
  let pendingApartmentId = null;

  function openLoginModal(targetApartmentId) {
    pendingApartmentId = targetApartmentId || null;
    loginError.classList.add('hidden');
    passwordField.value = '';
    loginModal.classList.remove('hidden');
    loginModal.classList.add('flex');
    setTimeout(() => passwordField.focus(), 50);
  }
  function closeLoginModal() {
    loginModal.classList.add('hidden');
    loginModal.classList.remove('flex');
  }

  function handleStatusClick(apartmentId) {
    if (!isAuthed) {
      openLoginModal(apartmentId);
      return;
    }
    cycleStatus(apartmentId);
  }

  loginForm.addEventListener('submit', function(e){
    e.preventDefault();
    const ok = passwordField.value === PASSWORD;
    if (!ok) {
      loginError.classList.remove('hidden');
      passwordField.focus();
      return;
    }
    isAuthed = true;
    sessionStorage.setItem('skylineAuth', '1');
    closeLoginModal();
    if (pendingApartmentId) {
      cycleStatus(pendingApartmentId);
      pendingApartmentId = null;
    }
    renderTable();
  });

  // fecha modal com ESC
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && !loginModal.classList.contains('hidden')) {
      closeLoginModal();
    }
  });

  // logout
  logoutBtn.addEventListener('click', () => {
    isAuthed = false;
    sessionStorage.removeItem('skylineAuth');
    pendingApartmentId = null;
    renderTable();
  });

  // Render inicial
  renderTable();
</script>

<!-- SCRIPT: Formulário (Apps Script) -->
<script>
const form = document.getElementById("leadForm");
const submitBtn = document.getElementById("submitBtn");
const formMessage = document.getElementById("formMessage");
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyv8agjYSdw5IxUyk4x7v0mpbHp2pq6IWfGa1Cky3bygNmHFR9dnwiPeyaDLlD2H4tu/exec";

form.addEventListener("submit", function(e){
  e.preventDefault();
  const formData = new FormData(form);

  submitBtn.disabled = true;
  submitBtn.textContent = "Enviando...";
  formMessage.classList.add("hidden");
  formMessage.textContent = "";

  fetch(SCRIPT_URL, { method: "POST", body: formData })
  .then(res => res.text())
  .then(text => {
    if(text.includes("OK")){
      formMessage.textContent = translations['form_success'][currentLanguage];
      formMessage.classList.remove("hidden");
      formMessage.classList.remove("text-red-500");
      formMessage.classList.add("text-green-500");
      form.reset();
    } else {
      formMessage.textContent = translations['form_error'][currentLanguage];
      formMessage.classList.remove("hidden");
      formMessage.classList.remove("text-green-500");
      formMessage.classList.add("text-red-500");
      console.error("Apps Script Error:", text);
    }
  })
  .catch(error => {
    formMessage.textContent = translations['network_error'][currentLanguage];
    formMessage.classList.remove("hidden");
    formMessage.classList.remove("text-green-500");
    formMessage.classList.add("text-red-500");
    console.error(error);
  })
  .finally(()=>{
    submitBtn.disabled = false;
    updateLanguage();
  });
});
</script>

<!-- SCRIPT: Traduções -->
<script>
  const translations = {
    'title': { pt: 'Skyline - Empreendimento Premium em Odivelas', en: 'Skyline - Premium Development in Odivelas' },
    'og:title': { pt: 'Skyline - Empreendimento Premium em Odivelas', en: 'Skyline - Premium Development in Odivelas' },
    'og:description': { 
      pt: 'Descubra o Skyline, um empreendimento exclusivo localizado em Granjas Novas, Odivelas, que promete redefinir o conceito de habitação moderna e sustentável.', 
      en: 'Discover Skyline, an exclusive development located in Granjas Novas, Odivelas, promising to redefine the concept of modern and sustainable housing.' 
    },
    'og:site_name': { pt: 'Skyline - Empreendimento Premium em Odivelas', en: 'Skyline - Premium Development in Odivelas' },

    'title_hero': { pt: 'SKYLINE', en: 'SKYLINE' },
    'hero_subtitle': { pt: 'Empreendimento Exclusivo em Odivelas', en: 'Exclusive Development in Odivelas' },
    'starting_from': { pt: 'A partir de', en: 'Starting from' },
    'view_apartment': { pt: 'Ver Apartamento', en: 'View Apartment' },
    'whatsapp_btn': { pt: 'WhatsApp', en: 'WhatsApp' },

    'photo_gallery': { pt: 'Galeria de Fotos', en: 'Photo Gallery' },
    'apartment_skyline': { pt: 'Apartamento Skyline', en: 'Skyline Apartment' },
    'living_room_skyline': { pt: 'Sala Skyline', en: 'Skyline Living Room' },
    'balcony_skyline': { pt: 'Varanda Skyline', en: 'Skyline Balcony' },
    'balcony_skyline_2': { pt: 'Varanda Skyline', en: 'Skyline Balcony' },
    'balcony_skyline_3': { pt: 'Varanda Skyline', en: 'Skyline Balcony' },
    'balcony_skyline_4': { pt: 'Varanda Skyline', en: 'Skyline Balcony' },

    'description_title': { 
      pt: 'Skyline Odivelas: "Onde o Design Moderno Encontra o Luxo e o Conforto"', 
      en: 'Skyline Odivelas: "Where Modern Design Meets Luxury and Comfort"' 
    },
    'description_p1': { 
      pt: 'Descubra o Skyline, um empreendimento exclusivo localizado em Granjas Novas, Odivelas, que promete redefinir o conceito de habitação moderna e sustentável.', 
      en: 'Discover Skyline, an exclusive development located in Granjas Novas, Odivelas, promising to redefine the concept of modern and sustainable housing.' 
    },
    'description_p2': { 
      pt: 'Todos os apartamentos são T3 e foram projetados com um design moderno e elegante, onde a atenção ao detalhe e os acabamentos de alta qualidade garantem uma experiência única de habitação. Com áreas totais por fração que variam entre 225m² e 350m², cada unidade dispõe de:', 
      en: 'All apartments are T3 and feature modern, elegant designs where attention to detail and high-quality finishes ensure a unique living experience. With total areas per unit ranging from 225m² to 350m², each unit features:' 
    },

    'list_item_1': { pt: '✔️ Duas suítes, mais um quarto com WC de apoio, proporcionando máximo conforto e privacidade;', en: '✔️ Two suites plus one bedroom with support bathroom, providing maximum comfort and privacy;' },
    'list_item_2': { pt: '✔️ Sala em open space com a cozinha, criando um ambiente amplo, funcional e convidativo;', en: '✔️ Open space living room with kitchen, creating a spacious, functional and inviting environment;' },
    'list_item_3': { pt: '✔️ Cozinha totalmente equipada, combinando eficiência e sofisticação;', en: '✔️ Fully equipped kitchen combining efficiency and sophistication;' },
    'list_item_4': { pt: '✔️ Varandas e amplos terraços em todas as frações, proporcionando espaços exteriores ideais para lazer e convívio ao ar livre;', en: '✔️ Balconies and spacious terraces in all units, providing ideal outdoor spaces for leisure and socializing;' },
    'list_item_5': { pt: '✔️ 1 box com 2 lugares de estacionamento, garantindo segurança e comodidade para estacionamento;', en: '✔️ 1 garage with 2 parking spaces, ensuring security and convenience for parking;' },
    'list_item_6': { pt: '✔️ Lavandaria para maior funcionalidade no dia a dia;', en: '✔️ Laundry room for greater functionality in daily life;' },

    'about_project_title': { pt: 'Conheça o Projeto', en: 'About the Project' },
    'about_project_subtitle': { pt: 'Uma experiência única em Odivelas', en: 'A unique experience in Odivelas' },

    'available_units_title': { pt: 'Unidades Disponíveis', en: 'Available Units' },
    'available_units_subtitle': { pt: 'Descubra as opções exclusivas do Skyline', en: 'Discover Skyline\'s exclusive options' },
    'price_table_skyline': { pt: 'Tabela de Preços Skyline', en: 'Skyline Price Table' },

    'interested_title': { pt: 'Interessado?', en: 'Interested?' },
    'interested_subtitle': { pt: 'Agende uma visita ou solicite informações', en: 'Schedule a visit or request information' },
    'contact_form_title': { pt: 'Formulário de Contato', en: 'Contact Form' },
    'name_label': { pt: 'Nome:', en: 'Name:' },
    'phone_label': { pt: 'Telefone:', en: 'Phone:' },
    'email_label': { pt: 'Email:', en: 'Email:' },
    'send_message_btn': { pt: 'Enviar Mensagem', en: 'Send Message' },
    'sending_btn': { pt: 'Enviando...', en: 'Sending...' },
    'other_contact_title': { pt: 'Outras Formas de Contato', en: 'Other Contact Methods' },
    'whatsapp_link': { pt: 'WhatsApp', en: 'WhatsApp' },
    'view_apartment_link': { pt: 'Ver Apartamento', en: 'View Apartment' },
    'skyline_odivelas': { pt: 'Skyline Odivelas', en: 'Skyline Odivelas' },

    'form_success': {
      pt: '✔️ Obrigado pelo seu interesse! Entraremos em contato brevemente.',
      en: '✔️ Thank you for your interest! We will contact you shortly.'
    },
    'form_error': {
      pt: '❌ Ocorreu um erro ao enviar. Por favor, tente novamente ou contacte-nos via WhatsApp.',
      en: '❌ An error occurred while sending. Please try again or contact us via WhatsApp.'
    },
    'network_error': {
      pt: '❌ Ocorreu um erro de rede. Por favor, tente novamente.',
      en: '❌ A network error occurred. Please try again.'
    },

    'footer_title': { pt: 'SKYLINE', en: 'SKYLINE' },
    'copyright': { pt: '© 2025 REMAX + GRUPO VANTAGEM', en: '© 2025 REMAX + GRUPO VANTAGEM' },
    'footer_slogan': { pt: 'O seu futuro mora aqui', en: 'Your future lives here' }
  };

  let currentLanguage = 'pt';
  const languageButtons = document.querySelectorAll('.language-btn');

  function updateLanguage() {
    document.documentElement.lang = currentLanguage;
    document.title = translations['title'][currentLanguage];
    document.querySelector('meta[property="og:title"]').content = translations['og:title'][currentLanguage];
    document.querySelector('meta[property="og:description"]').content = translations['og:description'][currentLanguage];
    document.querySelector('meta[property="og:site_name"]').content = translations['og:site_name'][currentLanguage];

    document.querySelectorAll('[data-key]').forEach(el => {
      const key = el.dataset.key;
      if (translations[key]) el.textContent = translations[key][currentLanguage];
    });
    document.querySelectorAll('[data-key-alt]').forEach(el => {
      const key = el.dataset.keyAlt || el.dataset.keyalt || el.getAtt


